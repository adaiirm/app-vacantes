{% extends "base.html" %}

{% block title %}Detalle de la vacante - {{ vacante.nombre }}{% endblock %}

{% block content %}
  <!-- The justified navigation menu -->
  <div class="masthead">
    <h3 class="text-muted">My Company</h3>
    <nav>
      <ul class="nav nav-justified">
        <li><a href="{{ url_for('index') }}">Inicio</a></li>            
        <li><a href="{{ url_for('admin') if 'user_id' in session else url_for('login') }}">Administración</a></li>                        
        <li><a href="{{ url_for('acerca') }}">Acerca</a></li>            
      </ul>
    </nav>
  </div>
  
  <form method="get" action="{{ url_for('buscar') }}" class="navbar-form navbar-right">
    <div class="form-group">
      <input type="text" name="query" required placeholder="Buscar oferta..." class="form-control">
    </div>        
    <button type="submit" class="btn btn-success">Buscar</button>
  </form>
  
  <br><br><br>

  <div class="panel panel-primary">
    <div class="panel-heading">
      <h3 class="panel-title">Vacante #{{ vacante.id }}</h3>
    </div>
    <div class="panel-body">
      <h5><b>Vacante</b>: {{ vacante.nombre }}</h5>
      <h5><b>Publicado</b>: {{ vacante.fecha_publicacion.strftime('%d/%m/%Y') }}</h5>
      <h5><b>Publicado por</b>: {{ vacante.autor.username }}</h5>                             
      <b>Descripción:</b><br>
      <p class="text-justify">{{ vacante.descripcion }}</p>
      <b>Detalles de la vacante</b>:<br>
      <div class="text-justify">
        {% if vacante.detalle %}
          {{ vacante.detalle|safe }}
        {% else %}
          <p>No hay detalles adicionales para esta vacante.</p>
        {% endif %}
      </div>
      
      {% if 'user_id' in session and session['user_id'] == vacante.usuario_id %}
        <hr>
        <div class="text-right">
          <a href="{{ url_for('nueva_vacante') }}?edit={{ vacante.id }}" class="btn btn-warning">Editar</a>
          <a href="{{ url_for('eliminar_vacante', id=vacante.id) }}" class="btn btn-danger" onclick="return confirm('¿Estás seguro de eliminar esta vacante?')">Eliminar</a>
        </div>
      {% endif %}
    </div>
  </div>
{% endblock %}